{"ast":null,"code":"import _objectSpread from\"D:/2025.1/CNW/Web-Project-20251/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useReducer,useContext,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();const initialState={cart:JSON.parse(localStorage.getItem('cart'))||[]};const cartReducer=(state,action)=>{switch(action.type){case'ADD_ITEM':{//identify exisitng item\nconst existingItem=state.cart.find(item=>item.id===action.payload.id);let newCart;if(existingItem){newCart=state.cart.map(item=>item.id===action.payload.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item);}else{newCart=[...state.cart,_objectSpread(_objectSpread({},action.payload),{},{quantity:1})];}localStorage.setItem('cart',JSON.stringify(newCart));return _objectSpread(_objectSpread({},state),{},{cart:newCart});}case'REMOVE_ITEM':{const newCart=state.cart.filter(item=>item.id!==action.payload.id);localStorage.setItem('cart',JSON.stringify(newCart));return _objectSpread(_objectSpread({},state),{},{cart:newCart});}case'INCREMENT_ITEM':{const newCart=state.cart.map(item=>item.id===action.payload.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item);localStorage.setItem('cart',JSON.stringify(newCart));return _objectSpread(_objectSpread({},state),{},{cart:newCart});}case'DECREMENT_ITEM':{const newCart=state.cart.map(item=>item.id===action.payload.id&&item.quantity>1?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity-1}):item);localStorage.setItem('cart',JSON.stringify(newCart));return _objectSpread(_objectSpread({},state),{},{cart:newCart});}case'CLEAR_CART':{localStorage.removeItem('cart');return _objectSpread(_objectSpread({},state),{},{cart:[]});}default:return state;}};export const CartProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(cartReducer,initialState);useEffect(()=>{localStorage.setItem('cart',JSON.stringify(state.cart));},[state.cart]);return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart:state.cart,dispatch},children:children});};export const useCart=()=>useContext(CartContext);","map":{"version":3,"names":["React","createContext","useReducer","useContext","useEffect","jsx","_jsx","CartContext","initialState","cart","JSON","parse","localStorage","getItem","cartReducer","state","action","type","existingItem","find","item","id","payload","newCart","map","_objectSpread","quantity","setItem","stringify","filter","removeItem","CartProvider","_ref","children","dispatch","Provider","value","useCart"],"sources":["D:/2025.1/CNW/Web-Project-20251/react/src/component/context/CartContext.js"],"sourcesContent":["import React, {createContext, useReducer, useContext, useEffect} from \"react\";\r\n\r\nconst CartContext = createContext();\r\n\r\nconst initialState = {\r\n    cart: JSON.parse(localStorage.getItem('cart')) || [],\r\n}\r\n\r\n\r\nconst cartReducer = (state, action) =>{\r\n    switch(action.type){\r\n        case 'ADD_ITEM': {\r\n            //identify exisitng item\r\n            const existingItem = state.cart.find(item => item.id === action.payload.id);\r\n            let newCart;\r\n\r\n            if(existingItem){\r\n                newCart = state.cart.map(item =>\r\n                    item.id === action.payload.id\r\n                    ? {...item, quantity: item.quantity + 1}\r\n                    : item\r\n                );\r\n            }else {\r\n                newCart = [...state.cart, {...action.payload, quantity: 1 }];\r\n            }\r\n            localStorage.setItem('cart', JSON.stringify(newCart));\r\n            return {...state, cart:newCart};\r\n        }\r\n\r\n        case 'REMOVE_ITEM':{\r\n            const newCart = state.cart.filter(item=> item.id !== action.payload.id);\r\n            localStorage.setItem('cart', JSON.stringify(newCart));\r\n            return {...state, cart:newCart};\r\n        }\r\n\r\n        case 'INCREMENT_ITEM': {\r\n            const newCart = state.cart.map(item=>\r\n                item.id === action.payload.id\r\n                ? {...item, quantity: item.quantity + 1}\r\n                :item\r\n            );\r\n            localStorage.setItem('cart', JSON.stringify(newCart));\r\n            return {...state, cart:newCart};\r\n        }\r\n\r\n        case 'DECREMENT_ITEM': {\r\n            const newCart = state.cart.map(item =>\r\n                item.id === action.payload.id && item.quantity > 1\r\n                ? {...item, quantity: item.quantity -1}\r\n                :item\r\n            )\r\n            localStorage.setItem('cart', JSON.stringify(newCart));\r\n            return {...state, cart:newCart};\r\n        }\r\n\r\n        case 'CLEAR_CART': {\r\n            localStorage.removeItem('cart');\r\n            return {...state, cart:[]};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\nexport const CartProvider = ({children}) => {\r\n\r\n    const [state, dispatch] = useReducer(cartReducer, initialState);\r\n\r\n\r\n    useEffect(() =>{\r\n        localStorage.setItem('cart', JSON.stringify(state.cart));\r\n    }, [state.cart]);\r\n\r\n    return (\r\n        <CartContext.Provider value={{cart: state.cart, dispatch}}>\r\n            {children}\r\n        </CartContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useCart = () => useContext(CartContext);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}