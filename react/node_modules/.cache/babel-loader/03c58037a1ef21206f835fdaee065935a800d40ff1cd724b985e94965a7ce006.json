{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import ApiService from\"../../service/ApiService\";import'../../style/categorySidebar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CategorySidebar=()=>{const[categories,setCategories]=useState([]);const[error,setError]=useState(null);const navigate=useNavigate();const{categoryId}=useParams();useEffect(()=>{fetchCategories();},[]);const fetchCategories=async()=>{try{const response=await ApiService.getAllCategory();setCategories(response.categoryList||[]);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message||'Unable to fetch categories');}};const handleCategoryClick=catId=>{navigate(\"/category/\".concat(catId));};const handleAllProductsClick=()=>{navigate('/');};return/*#__PURE__*/_jsxs(\"div\",{className:\"category-sidebar\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Danh M\\u1EE5c S\\u1EA3n Ph\\u1EA9m\"}),error?/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}):/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:!categoryId?'active':'',onClick:handleAllProductsClick,children:\"T\\u1EA5t C\\u1EA3 S\\u1EA3n Ph\\u1EA9m\"})}),categories.map(category=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:categoryId===category.id.toString()?'active':'',onClick:()=>handleCategoryClick(category.id),children:category.name})},category.id))]})]});};export default CategorySidebar;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","ApiService","jsx","_jsx","jsxs","_jsxs","CategorySidebar","categories","setCategories","error","setError","navigate","categoryId","fetchCategories","response","getAllCategory","categoryList","err","_err$response","_err$response$data","data","message","handleCategoryClick","catId","concat","handleAllProductsClick","className","children","onClick","map","category","id","toString","name"],"sources":["D:/2025.1/CNW/Web-Project-20251/react/src/component/common/CategorySidebar.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport ApiService from \"../../service/ApiService\";\r\nimport '../../style/categorySidebar.css';\r\n\r\nconst CategorySidebar = () => {\r\n    const [categories, setCategories] = useState([]);\r\n    const [error, setError] = useState(null);\r\n    const navigate = useNavigate();\r\n    const { categoryId } = useParams();\r\n\r\n    useEffect(() => {\r\n        fetchCategories();\r\n    }, []);\r\n\r\n    const fetchCategories = async () => {\r\n        try {\r\n            const response = await ApiService.getAllCategory();\r\n            setCategories(response.categoryList || []);\r\n        } catch (err) {\r\n            setError(err.response?.data?.message || err.message || 'Unable to fetch categories');\r\n        }\r\n    };\r\n\r\n    const handleCategoryClick = (catId) => {\r\n        navigate(`/category/${catId}`);\r\n    };\r\n\r\n    const handleAllProductsClick = () => {\r\n        navigate('/');\r\n    };\r\n\r\n    return (\r\n        <div className=\"category-sidebar\">\r\n            <h3>Danh Mục Sản Phẩm</h3>\r\n            {error ? (\r\n                <p className=\"error-message\">{error}</p>\r\n            ) : (\r\n                <ul>\r\n                    <li>\r\n                        <button \r\n                            className={!categoryId ? 'active' : ''}\r\n                            onClick={handleAllProductsClick}\r\n                        >\r\n                            Tất Cả Sản Phẩm\r\n                        </button>\r\n                    </li>\r\n                    {categories.map((category) => (\r\n                        <li key={category.id}>\r\n                            <button \r\n                                className={categoryId === category.id.toString() ? 'active' : ''}\r\n                                onClick={() => handleCategoryClick(category.id)}\r\n                            >\r\n                                {category.name}\r\n                            </button>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CategorySidebar;\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAAc,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEa,UAAW,CAAC,CAAGZ,SAAS,CAAC,CAAC,CAElCF,SAAS,CAAC,IAAM,CACZe,eAAe,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,eAAe,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,UAAU,CAACc,cAAc,CAAC,CAAC,CAClDP,aAAa,CAACM,QAAQ,CAACE,YAAY,EAAI,EAAE,CAAC,CAC9C,CAAE,MAAOC,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACVT,QAAQ,CAAC,EAAAQ,aAAA,CAAAD,GAAG,CAACH,QAAQ,UAAAI,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcE,IAAI,UAAAD,kBAAA,iBAAlBA,kBAAA,CAAoBE,OAAO,GAAIJ,GAAG,CAACI,OAAO,EAAI,4BAA4B,CAAC,CACxF,CACJ,CAAC,CAED,KAAM,CAAAC,mBAAmB,CAAIC,KAAK,EAAK,CACnCZ,QAAQ,cAAAa,MAAA,CAAcD,KAAK,CAAE,CAAC,CAClC,CAAC,CAED,KAAM,CAAAE,sBAAsB,CAAGA,CAAA,GAAM,CACjCd,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,CAED,mBACIN,KAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BxB,IAAA,OAAAwB,QAAA,CAAI,kCAAiB,CAAI,CAAC,CACzBlB,KAAK,cACFN,IAAA,MAAGuB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAElB,KAAK,CAAI,CAAC,cAExCJ,KAAA,OAAAsB,QAAA,eACIxB,IAAA,OAAAwB,QAAA,cACIxB,IAAA,WACIuB,SAAS,CAAE,CAACd,UAAU,CAAG,QAAQ,CAAG,EAAG,CACvCgB,OAAO,CAAEH,sBAAuB,CAAAE,QAAA,CACnC,qCAED,CAAQ,CAAC,CACT,CAAC,CACJpB,UAAU,CAACsB,GAAG,CAAEC,QAAQ,eACrB3B,IAAA,OAAAwB,QAAA,cACIxB,IAAA,WACIuB,SAAS,CAAEd,UAAU,GAAKkB,QAAQ,CAACC,EAAE,CAACC,QAAQ,CAAC,CAAC,CAAG,QAAQ,CAAG,EAAG,CACjEJ,OAAO,CAAEA,CAAA,GAAMN,mBAAmB,CAACQ,QAAQ,CAACC,EAAE,CAAE,CAAAJ,QAAA,CAE/CG,QAAQ,CAACG,IAAI,CACV,CAAC,EANJH,QAAQ,CAACC,EAOd,CACP,CAAC,EACF,CACP,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAAzB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}